(this.webpackJsonpclassdio=this.webpackJsonpclassdio||[]).push([[0],{30:function(e){e.exports=JSON.parse('{"domain":"dev-uqiu9vgo.us.auth0.com","clientId":"Ah6cazVk14AYGSrfD0UMfILgvP0SbUWJ"}')},45:function(e,t,a){e.exports=a(75)},50:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),l=a.n(c),o=(a(50),a(4)),s=a.n(o),i=a(10),u=a(2),m=a(26),d=a(42),p=function(){return window.history.replaceState({},document.title,window.location.pathname)},f=r.a.createContext(),v=function(){return Object(n.useContext)(f)},b=function(e){var t=e.children,a=e.onRedirectCallback,c=void 0===a?p:a,l=Object(m.a)(e,["children","onRedirectCallback"]),o=Object(n.useState)(),v=Object(u.a)(o,2),b=v[0],h=v[1],g=Object(n.useState)(),E=Object(u.a)(g,2),y=E[0],w=E[1],N=Object(n.useState)(),j=Object(u.a)(N,2),O=j[0],x=j[1],k=Object(n.useState)(!0),C=Object(u.a)(k,2),S=C[0],R=C[1],A=Object(n.useState)(!1),W=Object(u.a)(A,2),q=W[0],I=W[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)(l);case 2:if(t=e.sent,x(t),!window.location.search.includes("code=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:a=e.sent,n=a.appState,c(n);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,h(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:o=e.sent,w(o);case 19:R(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var T=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},I(!0),e.prev=2,e.next=5,O.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,I(!1),e.finish(10);case 13:return e.next=15,O.getUser();case 15:a=e.sent,w(a),h(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,O.handleRedirectCallback();case 3:return e.next=5,O.getUser();case 5:t=e.sent,R(!1),h(!0),w(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(f.Provider,{value:{isAuthenticated:b,user:y,loading:S,popupOpen:q,loginWithPopup:T,handleRedirectCallback:U,getIdTokenClaims:function(){return O.getIdTokenClaims.apply(O,arguments)},loginWithRedirect:function(){return O.loginWithRedirect.apply(O,arguments)},getTokenSilently:function(){return O.getTokenSilently.apply(O,arguments)},getTokenWithPopup:function(){return O.getTokenWithPopup.apply(O,arguments)},logout:function(){return O.logout.apply(O,arguments)}}},t)},h=a(13),g=function(){var e=v(),t=e.isAuthenticated,a=e.loginWithRedirect;e.logout;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light "},r.a.createElement("div",{className:"container-fluid",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(h.b,{className:"nav-link",to:"/"},"Classdotio")," "),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#togglerTarget","aria-controls":"togglerTarget","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse justify-content-end",id:"togglerTarget"},r.a.createElement("ul",{className:"navbar-nav"},!t&&r.a.createElement("li",{className:"nav-item justify-content-end"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return a({})}},"Log in")),t&&r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item ms-auto me-auto"},r.a.createElement(h.b,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item ms-auto me-auto"},r.a.createElement(h.b,{className:"nav-link",to:"/profile"},"Profile")))))))},E=a(1),y=function(e){var t=e.component,a=e.path,c=Object(m.a)(e,["component","path"]),l=v(),o=l.loading,u=l.isAuthenticated,d=l.loginWithRedirect;Object(n.useEffect)((function(){o||u||function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({appState:{targetUrl:a}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o,u,d,a]);return r.a.createElement(E.a,Object.assign({path:a,render:function(e){return!0===u?r.a.createElement(t,e):null}},c))},w=function(){var e=v(),t=e.loading,a=e.user,c=e.logout,l=e.isAuthenticated;return console.log("yikes"),t?r.a.createElement("div",null,"Loading..."):a?r.a.createElement(n.Fragment,null,console.log(a),r.a.createElement("img",{src:a.picture,alt:"Profile",style:{height:"100px"}}),r.a.createElement("h2",null,a.name),r.a.createElement("p",null,a.email),r.a.createElement("code",null,JSON.stringify(a,null,2)),l&&r.a.createElement("button",{className:"btn btn-outline-primary justify-self-end",onClick:function(){return c({returnTo:window.location.origin})}},"Log out")):r.a.createElement("div",null," not the user ")},N=a(6),j=Object(N.a)(),O=a(17),x=a(18),k=a(9),C=a(19),S=a(20),R=a(12),A=a.n(R),W=a(11),q=a.n(W);function I(e){return Array.isArray(e.list)?e.list.map((function(e){return r.a.createElement("button",{type:"button",key:"".concat(e.area,"-").concat(e.code).toString(),onClick:T,className:"btn btn-secondary",value:"".concat(e.area,"-").concat(e.code)},"".concat(e.area,"-").concat(e.code))})):r.a.createElement("div",null)}function T(e){var t=e.target;console.log(t.value);var a=document.getElementById(t.value);console.log(a),a&&a.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}function U(e){e.pre;return e.completed?(e.color="blue",e.rank="1","blue"):(e.color="yellow",e.rank="2","yellow")}var P=function(e){var t;console.log(null===(t=e.item)||void 0===t?void 0:t.name);var a=e.item;return console.log(a),r.a.createElement("div",{id:a.area+"-"+a.code,className:U(a)+" classCard col-10 container offset-1"},r.a.createElement("div",{className:"row"},r.a.createElement("h3",{className:"col-xl-4 col-sm-4"},a.area+" "+a.code),r.a.createElement("h3",{className:"col-xl-7 col-sm-6"},a.name),r.a.createElement("img",{className:"col-xl-1 col-sm-2 deletebtn d-flex justify-content-end",src:"./assets/delete.svg",onClick:function(){e.removeClass(a)}})),r.a.createElement("div",{className:"row"},r.a.createElement("h4",{className:"col-8"},"pre-reqs: ",r.a.createElement(I,{list:a.preReqs})," "),r.a.createElement("h4",{className:"col-4"},"completed: ",a.completed?"yes":"no")),r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"col-12"},"description: the course where you learn all about ",a.name)))};function D(e){var t,a=e.type;console.log(e);var n=null===(t=e.list)||void 0===t?void 0:t.filter((function(e){return"name"==a?e.name:"code"==a?e.area+" "+e.code:void 0})),c=null===n||void 0===n?void 0:n.map((function(e){return r.a.createElement("option",{value:e.name})}));return console.log(c),0!==(null===c||void 0===c?void 0:c.length)?r.a.createElement("datalist",{id:"options"},c):""}var B=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),s=Object(u.a)(o,2),i=s[0],m=s[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),f=p[0],b=p[1],h=Object(n.useState)(!0),g=Object(u.a)(h,2),E=g[0],y=g[1],w=Object(n.useState)([]),N=Object(u.a)(w,2),j=N[0],O=(N[1],Object(n.useState)("")),x=Object(u.a)(O,2),k=x[0],C=x[1],S=Object(n.useState)(""),R=Object(u.a)(S,2),A=R[0],W=R[1];return v().user,Object(n.useEffect)((function(){window.innerWidth>576&&document.getElementById("formCollapse").classList.remove("collapse")})),r.a.createElement("div",{className:"col-11 col-sm-4 col-md-3"},r.a.createElement("form",{id:"classform",className:"card",onSubmit:function(t){t.preventDefault();var a=function(){var e=document.getElementById("preReqs").value;return e.length>6?e=(e=e.toUpperCase().replace(/\s+/g,"").split(",")).map((function(e){try{var t=e.search(/\d/),a=e.substring(0,t),n=e.substring(t);if(3!==a.length||n.length>5)throw Error("Prerequisite area or code is incorrect");return{area:a,code:n}}catch(r){return console.log(r),{error:r}}})):[]}();(function(e){c||(W("Name cannot be empty"),y(!1));i||(C("Class code cannot be empty"),y(!1));e.length>0&&e.forEach((function(e){e.error&&y(!1)}));return E})(a)&&e.submitNewClass({name:c.toUpperCase(),classCode:i.toUpperCase(),preReqs:a,completed:f}),l(""),m(""),document.getElementById("preReqs").value=""},autoComplete:"new-password"},r.a.createElement("legend",{className:"card-header justify-content-start d-flex p-6"},r.a.createElement("span",{className:"d-none d-sm-block"},"Add a new class here"),r.a.createElement("button",{className:"btn btn-primary d-sm-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#formCollapse","aria-expanded":"false","aria-controls":"formCollapse"},"New Class")),r.a.createElement("div",{id:"formCollapse",className:"card-body collapse"},r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",id:"name",autoComplete:"new-password",className:A?"form-control incorrect":"form-control",value:c,onChange:function(e){l(e.target.value),!E&&e.target.value.length>0&&W("")},list:"options"}),r.a.createElement("div",{className:"errorMsg"},E?"":A),""!==c?r.a.createElement(D,{list:j,type:"name"}):""),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{htmlFor:"classcode"},"Class Code"),r.a.createElement("input",{type:"text",id:"classcode",className:k?"form-control incorrect":"form-control",value:i,onChange:function(e){m(e.target.value),!E&&e.target.value.length>0&&C("")}}),r.a.createElement("div",{className:"errorMsg"},E?"":k)),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{htmlFor:"classcode"},"Completed:"),r.a.createElement("input",{type:"checkbox",name:"complete",id:"completed",className:"",style:{marginLeft:"20px"},onClick:function(){b(!f)}})),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{htmlFor:"preReqs"},"Pre-req(s):"),r.a.createElement("input",{type:"text",id:"preReqs",className:"form-control"})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"btn btn-primary",form:"classform"},"submit"))))};var F=function(e){Object(S.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={value:"",searchtext:""},n.search=n.search.bind(Object(k.a)(n)),n.onKeyDown=n.onKeyDown.bind(Object(k.a)(n)),n}return Object(x.a)(a,[{key:"search",value:function(e){this.props.changeSearch(e.target.value)}},{key:"onKeyDown",value:function(e){8!==e.keyCode&&"Backspace"!==e.key||console.log("deleted")}},{key:"render",value:function(){return r.a.createElement("input",{className:"col-7 form-control",placeholder:"Search",name:"search",id:"search",onChange:this.search,value:this.props.searchtext,onKeyDown:this.onKeyDown})}}]),a}(r.a.Component),J=[];function L(){var e=[];return console.log("loading"),A.a.post("/payload",{body:JSON.stringify(this.state.user)}).then((function(e){return e.json()})).then((function(t){e=t.result,console.log(e),e.forEach((function(e){"string"==typeof e.preReqs&&(e.preReqs=JSON.parse(e.preReqs)),e.completed&&J.push(e.area+" "+e.code)})),e=e.sort((function(e,t){return e.completed-t.completed}))})),e}r.a.Component;var M=function(e){Object(S.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={},console.log(n.props.list),n.removeClass=n.removeClass.bind(Object(k.a)(n)),n}return Object(x.a)(a,[{key:"removeClass",value:function(e){this.props.delete(e)}},{key:"render",value:function(){var e=this;return(this.props.list?this.props.list:[]).map((function(t){return console.log("loading "+t.name),r.a.createElement(P,{key:t.area.toString()+t.code.toString(),delete:e.removeClass,data:t})}))}}]),a}(r.a.Component),K=function(){return console.log("Home"),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"mainbody"},r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement("h1",{className:"col-6 text-center"},"Welcome To Class.io")),r.a.createElement("div",{className:"row d-flex  justify-content-center"},r.a.createElement("h4",{className:"col-8 text-center"},r.a.createElement("span",null,"    "),"Classdotio is an interactive Web Application using React, Node.js, Auth0, and MongoDB to visually tell users which classes they have taken, which classes they are eligible to take, and which classes they are unable to take. It uses the Auth0 SDK to enable user profile Authentication."))))},_=a(44);function H(e){var t=e.classes||[];return(t=t.sort((function(e,t){return t.area===e.area?e.code.substring(0,4)-t.code.substring(0,4):t.area-e.area}))).map((function(t){return r.a.createElement(P,{key:t.area+t.code,removeClass:e.removeClass,item:t})}))}var V=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2);return a[0],a[1],r.a.createElement("div",{id:"classes",className:"col-11 col-sm-8 d-flex flex-grow-1"},r.a.createElement("div",{className:"card d-flex flex-grow-1"},r.a.createElement("div",{className:"d-flex card-header align-items-center"},r.a.createElement("h1",{className:"col-4"},"Classes"),r.a.createElement("div",{className:"col-8"},r.a.createElement(F,null))),r.a.createElement("div",{id:"class-holder",className:"card-body container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement(H,{classes:e.classes,removeClass:e.removeClass})))))};var Y=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(0),m=Object(u.a)(o,2),d=m[0],p=m[1];function f(){return(f=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("/submit",t);case 3:l([].concat(Object(_.a)(c),[t])),p(d+1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function v(){return(v=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(c.filter((function(e){return e.area+e.code!==t.area+t.code}))),e.next=3,A.a.post("/delete",t);case 3:p(d+1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return A.a.defaults.headers.common.sub=e.user.sub,Object(n.useEffect)((function(){function t(){return(t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.post("/getUserInfo",{email:e.user.email});case 2:a=t.sent,n=a.data,l(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[d]),r.a.createElement("div",{id:"dashboard",className:"d-flex flex-grow-1 container-fluid mt-3"},r.a.createElement("div",{className:"row flex-grow-1 justify-content-center justify-content-sm-evenly g-3"},r.a.createElement(B,{user:e.user,submitNewClass:function(e){return f.apply(this,arguments)}}),r.a.createElement(V,{user:e.user,classes:c,removeClass:function(e){return v.apply(this,arguments)}})))};var z=function(){var e=v(),t=e.loading,a=e.isAuthenticated,n=e.user;return t?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",{className:"App d-flex flex-grow-1 flex-column justify-content-between"},r.a.createElement("div",{className:"d-flex flex-grow-1 flex-column"},r.a.createElement(E.b,{history:j},r.a.createElement("header",{className:"sticky-top"},r.a.createElement(g,null)),r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/"},a?r.a.createElement(Y,{user:n}):r.a.createElement(K,null)),r.a.createElement(y,{exact:!0,path:"/dashboard"},r.a.createElement(Y,{user:n})),r.a.createElement(E.a,{path:"/profile"},r.a.createElement(w,null))))),r.a.createElement("footer",null,r.a.createElement("h4",{className:"bottom-brand"},"Made by ",r.a.createElement("a",{href:"https://www.mikalyoung.com/",target:"_blank",rel:"noopener noreferrer"},"Mikal Young"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(30);l.a.render(r.a.createElement(b,{domain:G.domain,client_id:G.clientId,redirect_uri:window.location.origin,onRedirectCallback:function(e){j.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(h.a,null,r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.3001b541.chunk.js.map