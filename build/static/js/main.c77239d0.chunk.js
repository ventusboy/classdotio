(this.webpackJsonpclassdio=this.webpackJsonpclassdio||[]).push([[0],{30:function(e){e.exports=JSON.parse('{"domain":"dev-uqiu9vgo.us.auth0.com","clientId":"Ah6cazVk14AYGSrfD0UMfILgvP0SbUWJ"}')},48:function(e,t,a){e.exports=a(79)},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),s=a(2),o=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"mainbody container-fluid"},r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement("h1",{className:"col-6 text-center"},"Welcome To Class.io")),r.a.createElement("div",{className:"row d-flex  justify-content-center"},r.a.createElement("h4",{className:"col-12 col-md-10 text-center"},r.a.createElement("span",null,"    "),"Classdotio is an interactive Web Application using React, Node.js, Auth0, and Firebase Firestore to visually tell users which classes they have taken, which classes they are eligible to take, and which classes they are unable to take. It uses the Auth0 SDK to enable user profile Authentication."))))},i=a(1),u=a(3),m=a.n(u),d=a(12),p=a(11),f=a(44),b=function(){return window.history.replaceState({},document.title,window.location.pathname)},v=r.a.createContext(),h=function(){return Object(n.useContext)(v)},g=function(e){var t=e.children,a=e.onRedirectCallback,c=void 0===a?b:a,l=Object(p.a)(e,["children","onRedirectCallback"]),s=Object(n.useState)(),o=Object(i.a)(s,2),u=o[0],h=o[1],g=Object(n.useState)(),E=Object(i.a)(g,2),j=E[0],N=E[1],x=Object(n.useState)(),w=Object(i.a)(x,2),y=w[0],O=w[1],C=Object(n.useState)(!0),k=Object(i.a)(C,2),S=k[0],R=k[1],A=Object(n.useState)(!1),W=Object(i.a)(A,2),P=W[0],T=W[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var t,a,n,r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(l);case 2:if(t=e.sent,O(t),!window.location.search.includes("code=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:a=e.sent,n=a.appState,c(n);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,h(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:s=e.sent,N(s);case 19:R(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var U=function(){var e=Object(d.a)(m.a.mark((function e(){var t,a,n=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},T(!0),e.prev=2,e.next=5,y.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,T(!1),e.finish(10);case 13:return e.next=15,y.getUser();case 15:a=e.sent,N(a),h(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,y.handleRedirectCallback();case 3:return e.next=5,y.getUser();case 5:t=e.sent,R(!1),h(!0),N(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(v.Provider,{value:{isAuthenticated:u,user:j,loading:S,popupOpen:P,loginWithPopup:U,handleRedirectCallback:I,getIdTokenClaims:function(){return y.getIdTokenClaims.apply(y,arguments)},loginWithRedirect:function(){return y.loginWithRedirect.apply(y,arguments)},getTokenSilently:function(){return y.getTokenSilently.apply(y,arguments)},getTokenWithPopup:function(){return y.getTokenWithPopup.apply(y,arguments)},logout:function(){return y.logout.apply(y,arguments)}}},t)},E=a(15),j=a(81),N=function(){var e=Object(s.f)(),t=h(),a=t.isAuthenticated,c=t.loginWithRedirect,l=Object(n.useState)(!1),o=Object(i.a)(l,2),u=o[0],m=o[1];return Object(n.useEffect)((function(){m(!1)}),[e]),r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light "},r.a.createElement("div",{className:"container-fluid",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(E.b,{className:"nav-link",to:"/"},"Classdotio")," "),a&&r.a.createElement("button",{id:"navbar-toggler",className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#togglerTarget","aria-controls":"togglerTarget","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){return m(!u)}},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement(j.a,{in:u},r.a.createElement("div",{className:"navbar-collapse justify-content-end",id:"togglerTarget"},r.a.createElement("ul",{className:"navbar-nav"},a&&r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item ms-auto me-auto"},r.a.createElement(E.b,{className:"nav-link",to:"/",onSelect:function(){return m(!1)}},"Home")),r.a.createElement("li",{className:"nav-item ms-auto me-auto"},r.a.createElement(E.b,{className:"nav-link",to:"/profile",onSelect:function(){return m(!1)}},"Profile")))))),!a&&r.a.createElement("div",{className:"nav-item justify-self-end"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return c({})}},"Log in"))))},x=function(e){var t=e.component,a=e.path,c=Object(p.a)(e,["component","path"]),l=h(),o=l.loading,i=l.isAuthenticated,u=l.loginWithRedirect;Object(n.useEffect)((function(){o||i||function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({appState:{targetUrl:a}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o,i,u,a]);return r.a.createElement(s.a,Object.assign({path:a,render:function(e){return!0===i?r.a.createElement(t,e):null}},c))},w=a(17),y=a.n(w),O=a(82),C=a(83),k=function(){var e=h(),t=e.loading,a=e.user,c=e.logout,l=e.isAuthenticated,s=Object(n.useState)(0),o=Object(i.a)(s,2),u=o[0],p=o[1];return Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("/getUserInfo");case 3:t=e.sent,a=t.data,p(a.length),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error retrieving user data."),p(null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),t?r.a.createElement("div",null,"Loading..."):a?(y.a.defaults.headers.common.sub=a.sub,r.a.createElement(O.a,{gap:2,className:"mt-4"},a.picture&&r.a.createElement("img",{src:a.picture,alt:"Profile",className:"align-self-center",style:{height:"100px",width:"100px"},referrerPolicy:"no-referrer"}),r.a.createElement("h2",{className:"text-center"},"User: ",a.name),r.a.createElement("h4",{className:"text-center"},"Email: ",a.email),r.a.createElement("h4",{className:"text-center"},"Classes Added: ",u),r.a.createElement("div",{className:"text-center"},l&&r.a.createElement(C.a,{variant:"outline-primary",size:"sm",onClick:function(){return c({returnTo:window.location.origin})}},"Log out")))):r.a.createElement("div",null," Not a user, please login. ")},S=a(26);function R(e){var t=e.classes,a=null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement("option",{key:e.area+e.code,value:e.area+" "+e.code})}));return 0!==(null===a||void 0===a?void 0:a.length)?r.a.createElement("datalist",{id:"options"},a):""}var A=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),o=Object(i.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),f=p[0],b=p[1],v=Object(n.useState)(!0),h=Object(i.a)(v,2),g=h[0],E=h[1],N=Object(n.useState)(""),x=Object(i.a)(N,2),w=x[0],y=x[1],O=Object(n.useState)(""),k=Object(i.a)(O,2),S=k[0],A=k[1],W=Object(n.useState)(""),P=Object(i.a)(W,2),T=P[0],U=P[1],I=Object(n.useState)(!1),q=Object(i.a)(I,2),L=q[0],F=q[1],M=Object(n.useState)(""),z=Object(i.a)(M,2),D=z[0],J=z[1];function B(){var e=D;if(!(e.length>6))return[];e=e.toUpperCase().replace(/\s+/g,"").split(",");try{e=e.map((function(e){var t=e.search(/\d/),a=e.substring(0,t),n=e.substring(t);if(3!==a.length||n.length>5||n.length<3)throw Error("Error parsing a PreReq");return{area:a,code:n}}))}catch(t){return{error:t}}return e}return window.addEventListener("resize",(function(){window.innerWidth>576&&F(!0)})),Object(n.useEffect)((function(){var t=e.editedClass,a=t.name,n=t.area,r=t.code,c=t.preReqs,s=t.completed;n&&r&&(l(a),m(n+" "+r),b(s),J(Array.isArray(c)&&c.map((function(e){return e.area+e.code})).join(",")),F(!0))}),[e.editedClass]),r.a.createElement("div",{className:"col-12 col-md-3"},r.a.createElement("form",{id:"classform",className:"card",onSubmit:function(t){t.preventDefault();var a=B();(function(e){var t=!0;c||(A("Name cannot be empty"),t=!1);u||(y("Class code cannot be empty"),t=!1);(null===e||void 0===e?void 0:e.error)&&(U("Error parsing a PreReq"),t=!1);return E(t),t})(a)&&(e.submitNewClass({name:c.toUpperCase(),classCode:u.toUpperCase(),preReqs:a,completed:f}),l(""),m(""),J(""))},autoComplete:"new-password"},r.a.createElement("legend",{className:"card-header justify-content-start d-flex p-6"},r.a.createElement("span",{className:"d-none d-md-block"},"Add a new class here"),r.a.createElement(C.a,{className:"btn btn-primary d-md-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#formCollapse","aria-expanded":"false","aria-controls":"formCollapse",onClick:function(){F(!L)}},"New Class")),r.a.createElement(j.a,{in:L||window.innerWidth>=576},r.a.createElement("div",{className:""},r.a.createElement("div",{id:"formCollapse",className:"card-body"},r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",id:"name",autoComplete:"new-password",className:S?"form-control incorrect":"form-control",value:c,onChange:function(e){l(e.target.value),!g&&e.target.value.length>0&&A("")}}),r.a.createElement("div",{className:"errorMsg"},S||"")),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{htmlFor:"classcode"},"Class Code"),r.a.createElement("input",{type:"text",id:"classcode",className:w?"form-control incorrect":"form-control",value:u,onChange:function(e){m(e.target.value),!g&&e.target.value.length>0&&y("")},list:"options"}),r.a.createElement("div",{className:"errorMsg"},w||""),""!==u?r.a.createElement(R,{classes:e.classes,type:"code"}):""),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{htmlFor:"classcode"},"Completed:"),r.a.createElement("input",{type:"checkbox",name:"complete",id:"completed",className:"",style:{marginLeft:"20px"},checked:f,onChange:function(){b(!f)}})),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{htmlFor:"preReqs"},"Pre-req(s):"),r.a.createElement("input",{type:"text",id:"preReqs",className:"form-control",value:D,onChange:function(e){J(e.target.value),U("")}}),r.a.createElement("div",{className:"errorMsg"},T||"")),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"btn btn-primary",form:"classform"},"submit"))))))};var W=function(e){return r.a.createElement("input",{className:"col-7 form-control",placeholder:"Search",name:"search",id:"search",onChange:e.search})};function P(e){return Array.isArray(e.list)?e.list.map((function(e){return r.a.createElement("button",{type:"button",key:"".concat(e.area,"-").concat(e.code).toString(),onClick:T,className:"btn btn-secondary",value:"".concat(e.area,"-").concat(e.code),style:{margin:"2px 3px"}},"".concat(e.area,"-").concat(e.code))})):r.a.createElement("div",null)}function T(e){var t=e.target,a=document.getElementById(t.value);a&&a.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),t.blur()}var U=function(e){var t=Object(n.useContext)(L),a=Object(n.useState)("yellow"),c=Object(i.a)(a,2),l=c[0],s=c[1],o=e.item;return Object(n.useEffect)((function(){if(o.completed)s("blue");else{for(var e=0;e<o.preReqs.length;e++){var a=o.preReqs[e],n=a.area,r=a.code;if(!(null===t||void 0===t?void 0:t.includes(n+r)))return void s("red")}s("yellow")}}),[t,o]),r.a.createElement("div",{id:o.area+"-"+o.code,className:l+" classCard col-10 container offset-1"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 d-flex flex-column"},r.a.createElement("h3",{className:"col-xl-4 col-sm-4"},o.area+" "+o.code),r.a.createElement("h4",{className:"col-xl-7 col-sm-6 text-capitalize"},o.name)),r.a.createElement("div",{className:"col-2 col-xl-1 col-sm-2 d-flex justify-content-end"},r.a.createElement("img",{className:"editbtn",src:"./assets/edit.png",onClick:function(){e.editClass(o)},alt:"Edit Icon"}),r.a.createElement("img",{className:"deletebtn",src:"./assets/delete.svg",onClick:function(){e.removeClass(o)},alt:"Delete Icon"}))),r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"col-12 text-capitalize"},"Description: the course where you learn all about ",o.name)),r.a.createElement("div",{className:"row"},r.a.createElement("h5",{className:"col-12 col-md-8"},"Pre-Reqs: ",r.a.createElement(P,{list:o.preReqs})," "),r.a.createElement("h6",{className:"col-12 col-md-4"},"Completed: ",o.completed?"Yes":"No")))};function I(e){console.log(e);var t=e.classes||[],a=e.searchText.toLocaleLowerCase();return t=t.sort((function(e,t){return t.area===e.area?e.code.substring(0,4)-t.code.substring(0,4):t.area-e.area})),a.trim().length>0&&(t=t.filter((function(e){return Object.values(e).toString().toLocaleLowerCase().includes(a)}))),t=t.map((function(t){return r.a.createElement(U,{key:t.area+t.code,removeClass:e.removeClass,item:t,editClass:e.editClass})}))}var q=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",{id:"classes",className:"col-12 col-md-8 d-flex flex-grow-1"},r.a.createElement("div",{className:"card d-flex flex-grow-1"},r.a.createElement("div",{className:"d-flex card-header align-items-center"},r.a.createElement("h1",{className:"col-4"},"Classes"),r.a.createElement("div",{className:"col-8"},r.a.createElement(W,{search:function(e){l(e.target.value)}}))),r.a.createElement("div",{id:"class-holder",className:"card-body container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement(I,{classes:e.classes,removeClass:e.removeClass,searchText:c,editClass:e.editClass})))))},L=Object(n.createContext)(null);var F=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(0),o=Object(i.a)(s,2),u=o[0],p=o[1],f=Object(n.useState)([]),b=Object(i.a)(f,2),v=b[0],h=b[1],g=Object(n.useState)({}),E=Object(i.a)(g,2),j=E[0],N=E[1];function x(){return(x=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("/submit",t);case 3:l([].concat(Object(S.a)(c),[t])),p(u+1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function w(){return(w=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(c.filter((function(e){return e.area+e.code!==t.area+t.code}))),e.next=3,y.a.post("/delete",t);case 3:p(u+1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return y.a.defaults.headers.common.sub=e.user.sub,Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/getUserInfo");case 2:t=e.sent,a=t.data,l(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[u]),Object(n.useEffect)((function(){var e=c.flatMap((function(e){return e.completed?e.area+e.code:[]}));h(e)}),[c]),r.a.createElement("div",{id:"dashboard",className:"d-flex flex-grow-1 container-fluid mt-3"},r.a.createElement("div",{className:"row flex-column flex-md-row flex-grow-1 justify-content-center justify-content-md-evenly g-3"},r.a.createElement(A,{user:e.user,classes:c,submitNewClass:function(e){return x.apply(this,arguments)},editedClass:j}),r.a.createElement(L.Provider,{value:v},r.a.createElement(q,{user:e.user,classes:c,removeClass:function(e){return w.apply(this,arguments)},editClass:function(e){try{N(e)}catch(t){console.log(t)}}}))))},M=a(8),z=Object(M.a)();a(43);var D=function(){var e=h(),t=e.loading,a=e.isAuthenticated,n=e.user;return t?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",{className:"App d-flex flex-grow-1 flex-column justify-content-between"},r.a.createElement("div",{className:"d-flex flex-grow-1 flex-column"},r.a.createElement(s.b,{history:z},r.a.createElement("header",{className:"sticky-top"},r.a.createElement(N,null)),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/"},a?r.a.createElement(F,{user:n}):r.a.createElement(o,null)),r.a.createElement(x,{exact:!0,path:"/dashboard"},r.a.createElement(F,{user:n})),r.a.createElement(s.a,{path:"/profile"},r.a.createElement(k,null))))),r.a.createElement("footer",null,r.a.createElement("h4",{className:"bottom-brand ps-2"},"Made by ",r.a.createElement("a",{href:"https://www.mikalyoung.com/",target:"_blank",rel:"noopener noreferrer"},"Mikal Young"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(30);a(78);l.a.render(r.a.createElement(g,{domain:J.domain,client_id:J.clientId,redirect_uri:window.location.origin,onRedirectCallback:function(e){z.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(E.a,null,r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.c77239d0.chunk.js.map